= block_with_caption :top, :class=>'listing-block'
  - if style == 'source'
    ac:structured-macro ac:name="code"
      - if "#{source_lang}" == "json"
        ac:parameter ac:name="language" yml
      - if "#{source_lang}" == "python"
        ac:parameter ac:name="language" py
      - if "#{source_lang}" == "ruby"
        ac:parameter ac:name="language" ruby
      - if "#{source_lang}" == "javascript"
        ac:parameter ac:name="language" js
      - if "#{source_lang}" == "sql"
        ac:parameter ac:name="language" sql
      - if "#{source_lang}" == "diff"
        ac:parameter ac:name="language" diff
      ac:parameter ac:name="theme" Midnight
      ac:plain-text-body
        | <![CDATA[
        =content
        |]]>
  - else
    ac:structured-macro ac:name="code"
      ac:parameter ac:name="language" text
      ac:parameter ac:name="theme" Midnight
      ac:plain-text-body
        | <![CDATA[
        =content
        |]]>
